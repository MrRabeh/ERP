<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" lang="fr">
       <f:view contentType="text/html">
<h:body class="body">
 <ui:include src="../theme/menureporting.xhtml" />
<div class="mainContent">
<div class="content">
	<article class="topcontent">
    <content>                
     <div>
         <h:form id="form">
                    <p:growl id="msg" showDetail="true"/> 
           <p:growl id="msgs" showDetail="true"/>  
         <table class="styletable" cellpadding="0">
               <div style='font-weight:bold;text-align: left;position: relative;bottom:-5px;'>créer Rapport des Devis Par Article</div>
               <tr>
               <td>année</td>
               <td>
                         <p:selectOneMenu id="annee"  filter="true" effect="fade" style="width:300px" styleClass="selectonemenu"  value="#{reportingController.idannee}">
                                 <f:selectItem itemLabel="tous" itemValue="" selected="selected" ></f:selectItem>
                                    <f:selectItems  value="#{justificatifSoldeController.listeyears}" var="a" itemLabel="#{a.annee}" itemValue="#{a.id}" />     
                         </p:selectOneMenu>
               </td>
               </tr>
               
               <tr>
               	   <td>Produit</td>
	               <td>
	               			 <p:selectOneMenu id="produit"  filter="true" effect="fade" style="width:300px" styleClass="selectonemenu"  value="#{reportingController.produitID}">
			                          <f:selectItem itemLabel="selectionner le Produit" itemValue="0" selected="selected" ></f:selectItem>
			                          <f:selectItems  value="#{produitController.produits}" var="prod" itemLabel="#{prod.typeproduit}" itemValue="#{prod.id}" />
			                    <p:ajax event="change" update="refArticle" listener="#{reportingController.eventchangearticle}" />
			                    </p:selectOneMenu>
	               </td>
               </tr>
               
                
               <tr>
               	   <td>Article</td>
	               <td>
	               			 <p:selectOneMenu id="refArticle" filter="true" effect="fade" style="width:300px" styleClass="selectonemenu"  value="#{reportingController.articleID}">
	                              					 <f:selectItem itemLabel="toutes" itemValue="0" selected="selected" ></f:selectItem>
	                              					 <f:selectItems id="refArticles" value="#{reportingController.articles}" var="article" itemLabel="#{article.ref}" itemValue="#{article.idArticle}" />
	                           </p:selectOneMenu>
	               </td>
               </tr>
               
                <tr>
               	   <td>table</td>
	               <td>
	               			 <p:selectOneMenu id="table" filter="true" effect="fade" style="width:300px" styleClass="selectonemenu"  value="#{reportingController.table}">
	                              					 <f:selectItem itemLabel="selectionner la table" itemValue="0" selected="selected" ></f:selectItem>
	                              					 <f:selectItem itemLabel="Devis" itemValue="Devis" selected="selected" ></f:selectItem>
	                              					  <f:selectItem itemLabel="Bon Commande" itemValue="boncommande" ></f:selectItem>
	                              					   <f:selectItem itemLabel="Facture Client" itemValue="facture"  ></f:selectItem>
	                              					   <f:selectItem itemLabel="Facture Fournisseur" itemValue="facturefournisseur"  ></f:selectItem>
	                              					   <f:selectItem itemLabel="Bon Livraison" itemValue="bnlivraison"  ></f:selectItem>
	                           </p:selectOneMenu>
	               </td>
               </tr>
               
               <tr>
               <td><p:commandButton styleClass="styleGreen" value="Annuler" actionListener="#{reportingController.annuler}" update="annee,refArticle,table,msg,msgs" ></p:commandButton></td>
               <td>
               <p:commandButton styleClass="styleGreen" value="Generer le Rapport" ajax="false" action="#{reportingController.imprimerParArticle}" update="annee,refArticle,table,msg,msgs">
               </p:commandButton>
               </td>
               </tr>
               </table>
         
         </h:form>
	  </div>
    </content>
    </article>
</div>
</div>
<ui:include src="../theme/mfooter.xhtml" />
</h:body>
</f:view>
</html>
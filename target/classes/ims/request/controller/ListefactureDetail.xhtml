<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" lang="fr">
       <f:view contentType="text/html">
<h:body class="body">
 <ui:include src="../theme/mmenu.xhtml" />
<div class="mainContent">
<div class="content">
	<article class="topcontent">
	<h1>Correspendance</h1>
    <content>
    <h:form id="form" > 
    <p:growl id="msgs" showDetail="true"/> 
    <p:growl id="msg" showDetail="true"/>               
                 <div>
                                 <table class="styletable" style="width: 30%;" cellpadding="0">
            					<div style='font-weight:bold;text-align: left;position: relative;bottom:-7px;'>Creer facture Bon Livraison</div>
            					<tr>
            					<td>Facture</td>
            					<td>
            					<p:outputLabel style="with:50" for="numfacture" />
                                                    <p:selectOneMenu style="width:200px" styleClass="selectonemenu" id="numfacture" filter="true" effect="fade" tabindex="1" value="#{factureBonLivraisonController.idfacture}">
                                                    
                                                    <f:selectItems  id="numfactures" value="#{factureController.factures}" var="fact" itemLabel="#{fact.ref}" itemValue="#{fact.id}" />
                                                    </p:selectOneMenu>
            					</td>
            					</tr>
            					<tr>
            					<td>Bon Livraison</td>
            					<td>
            					<p:outputLabel style="with:50" for="numbl" />
                                                    <p:selectOneMenu  style="width:200px" styleClass="selectonemenu" id="numbl" filter="true" effect="fade" tabindex="1" value="#{factureBonLivraisonController.idbonlivraison}">
                                                    
                                                    <f:selectItems  id="numbls" value="#{bonlivraisonController.livraisons}" var="bl" itemLabel="#{bl.ref}" itemValue="#{bl.id}"  />
                                </p:selectOneMenu>
            					</td>
            					</tr>
            					<tr>
            					<td><p:commandButton  value="Annuler"></p:commandButton></td>
            					<td>  <p:commandButton  value="Enregistrer" actionListener="#{factureBonLivraisonController.insert}" update="msgs,tablep" /></td>
            					</tr>
                                 </table>
                 </div>
                 <div>
                 <p:dataTable id="tablep" widgetVar="tablep" value="#{factureController.listes}" var="obj"
                                                     selectionMode="single" selection="#{factureController.liste}"
                                                     rowKey="#{obj.id}"
                                                     paginator="true"
                                                     rows="20"
                                                     paginatorPosition="bottom"
                                                     emptyMessage="Aucun résultat trouvé"
                                                     resizableColumns="true"
                                                     scrollRows="30" scrollable="true" liveScroll="true" scrollHeight="400"
                                                      styleClass="datatablestyle"
                                                     rowStyleClass="datarowstyle"
                                                     >
                                                     
                                                      <p:column filterBy="#{obj.offre.ref}" sortBy="#{obj.offre.ref}" headerText="Offre"  filterMatchMode="contains">
            												<h:outputText value="#{obj.offre.ref}" />
       													 </p:column>
       													 
       													 	<p:column filterBy="#{obj.commande.numercommande}" sortBy="#{obj.commande.numercommande}" headerText="commande"  filterMatchMode="contains">
            												<h:outputText value="#{obj.commande.numercommande}" />
       													 </p:column>
       													 
       													   <p:column filterBy="#{obj.bnlivraison.ref}" sortBy="#{obj.bnlivraison.ref}" headerText="BL"  filterMatchMode="contains">
            												<h:outputText value="#{obj.bnlivraison.ref}" />
       													 </p:column>
       													 
                                                     <p:column filterBy="#{obj.facture.ref}" sortBy="#{obj.facture.ref}" headerText="Facture"  filterMatchMode="contains">
            												<h:outputText value="#{obj.facture.ref}" />
       													 </p:column>
       													 
       													 <p:column filterBy="#{obj.client.societe}" sortBy="#{obj.client.societe}" headerText="Client"  filterMatchMode="contains">
            												<h:outputText value="#{obj.client.societe}" />
       													 </p:column>
                                                     	
                                        </p:dataTable>
                 </div>
                 </h:form>         
    </content>
    </article>
</div>
</div>
<ui:include src="../theme/mfooter.xhtml" />
</h:body>
</f:view>
</html>